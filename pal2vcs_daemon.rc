# PAL2VCS Daemon (Phase 4.2)
# SET direction: Data Broker -> PAL2VCS -> VCS (via SOME/IP)

service pal2vcs_daemon /product/bin/pal2vcs_daemon
    class main
    user system
    group system inet
    setenv VSOMEIP_CONFIGURATION /product/etc/vsomeip/pal2vcs.json

# Create vsomeip runtime directory on boot
on post-fs-data
    mkdir /product/run/someip 0755 system system
    mkdir /data/local/tmp 0777 root root

# Auto-start after boot
on property:sys.boot_completed=1
    start pal2vcs_daemon
